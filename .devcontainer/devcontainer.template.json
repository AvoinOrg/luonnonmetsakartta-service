// rename to devcontainer.json
{
    "name": "luonnonmetsakartta-service",
    "dockerComposeFile": [
        "../docker-compose.yml"
    ],
    "service": "app-dev", // try app-dev or app-sandbox
    "workspaceFolder": "/app",
    "customizations": {
        "vscode": {
            "extensions": [
                "charliermarsh.ruff",
                "docker.docker",
                "esbenp.prettier-vscode",
                "github.copilot",
                "github.copilot-chat",
                "github.vscode-pull-request-github",
                "ms-azuretools.vscode-docker",
                "ms-python.debugpy",
                "ms-python.python",
                "ms-toolsai.jupyter",
                "ms-toolsai.jupyter-keymap",
                "ms-toolsai.jupyter-renderers",
                "ms-toolsai.vscode-jupyter-cell-tags",
                "ms-toolsai.vscode-jupyter-slideshow"
            ],
            "settings": {
                "[python]": {
                    "editor.defaultFormatter": "charliermarsh.ruff",
                },
                "ruff.format": true
            }
        }
    },
    "runServices": [
        "app-dev",
        "postgis-dev",
        "postgis-test"
    ]
    // For binding ssh agent to the container, if needed for Git (for example)
    // "mounts": [
    //     "type=bind,source=${localEnv:HOME}/.ssh/sockets,target=/ssh-sockets"
    //     // "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
    // ],
    // "remoteEnv": {
    //     "SSH_AUTH_SOCK": "/ssh-sockets/agent.sock"
    // }
}